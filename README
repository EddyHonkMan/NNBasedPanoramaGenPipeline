A neural-network-based panorama generation pipeline